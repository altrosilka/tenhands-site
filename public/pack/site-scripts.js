var App=angular.module("App",["configuraion"]);App.config([function(){}]),angular.module("configuraion",[]).constant("__afterLoginUrl","/cabinet/").constant("__timezone",6).constant("__api",{baseUrl:"https://10hands.io/api/",paths:{loadVkAccountGroups:"social/vk/loadAdminGroups",loadFbAccountGroups:"social/fb/loadAdminGroups","channels/toggleDisableState":"channels/toggleDisableState","sets/attachUserByEmail":"sets/attachUserByEmail/","sets/attachUserById":"sets/attachUserById","sets/detachUserById":"sets/removeUserFromSet",addVkGroup:"channels/vk",addFbGroup:"channels/fb",addIgAccount:"channels/ig",signIn:"auth/signin",signUp:"auth/signup",accounts:"accounts",sets:"sets",channels:"channels",getUserInfo:"vkToken",getVkToken:"vkToken",getTwitterAuthUrl:"auth/twitter/getUrl",getFacebookAuthUrl:"auth/facebook/getUrl",getVkAuthUrl:"auth/facebook/getUrl",extension:{afterInstall:"/pages/afterInstall.html"},verifyEmailByCode:"users/verifyEmail",restorePassword:"auth/restorePassword"}}).constant("__extensionId","@extensionId"),App.run([function(){}]),angular.module("App").directive("animatedHeader",function(){return function(){}}),angular.module("App").service("S_selfapi",["$http","__api",function(e,n){var t={},r=n.baseUrl;return t.getVkToken=function(){return e({url:r+n.paths.getVkToken,method:"GET"})},t.signIn=function(t,o){return e({withCredentials:!0,url:r+n.paths.signIn,method:"POST",data:{email:t,password:o}})},t.signUp=function(t){return e({withCredentials:!0,url:r+n.paths.signUp,method:"POST",data:{email:t,password:t.split("").reverse().join("")}})},t.verifyEmailByCode=function(t){return e({withCredentials:!0,url:r+n.paths.verifyEmailByCode,method:"POST",data:{code:t}})},t.restorePasswordByCode=function(t){return e({withCredentials:!0,url:r+n.paths.restorePassword,method:"POST",data:{code:t}})},t}]),angular.module("App").controller("C_index",["$scope","$window","S_selfapi","__afterLoginUrl",function(e,n,t,r){var o=this;return o.inprogress=!1,o.signUp=function(){window.innerHeight>100&&window.innerWidth>100&&(o.inprogress=!0,t.signUp(o.email).then(function(){n.location.href=r},function(){o.inprogress=!1}))},$(".tool").tooltip({}),o}]),angular.module("App").controller("C_restorePassword",["S_selfapi",function(e){function n(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var n=new RegExp("[\\?&]"+e+"=([^&#]*)"),t=n.exec(location.search);return null===t?"":decodeURIComponent(t[1].replace(/\+/g," "))}var t=this,r=n("code");return r?e.restorePasswordByCode(r).then(function(e){location.href=e.data.url},function(){t.error=!0}):t.error=!0,t}]),angular.module("App").controller("C_verifyEmail",["S_selfapi",function(e){function n(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var n=new RegExp("[\\?&]"+e+"=([^&#]*)"),t=n.exec(location.search);return null===t?"":decodeURIComponent(t[1].replace(/\+/g," "))}var t=this,r=n("code");return r?e.verifyEmailByCode(r).then(function(e){location.href=e.data.url},function(){t.error=!0}):t.error=!0,t}]);